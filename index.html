<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="JSON Editor - Á∑®ËºØ„ÄÅÊ†ºÂºèÂåñ„ÄÅÈ©óË≠â„ÄÅÊØîËºÉ„ÄÅ‰øÆÂæ© JSON ÁöÑÂÆåÊï¥Â∑•ÂÖ∑">
    <title>JSON Editor - ÂÆåÊï¥ JSON Á∑®ËºØÂ∑•ÂÖ∑</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <span class="logo-icon">{ }</span>
                    <h1>JSON Editor</h1>
                </div>
            </div>
            <div class="header-right">
                <a href="https://github.com/paul0728/json-validator" target="_blank" class="github-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                    </svg>
                </a>
            </div>
        </header>

        <!-- Main Toolbar -->
        <div class="main-toolbar">
            <div class="toolbar-group">
                <button class="toolbar-btn" id="btn-open" title="ÈñãÂïüÊ™îÊ°à">
                    <span class="icon">üìÇ</span>
                    <span class="label">ÈñãÂïü</span>
                </button>
                <button class="toolbar-btn" id="btn-save" title="‰∏ãËºâ JSON">
                    <span class="icon">üíæ</span>
                    <span class="label">‰∏ãËºâ</span>
                </button>
                <input type="file" id="file-input" accept=".json,.txt,.csv" hidden>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-group">
                <button class="toolbar-btn" id="btn-format" title="Ê†ºÂºèÂåñ JSON">
                    <span class="icon">‚ú®</span>
                    <span class="label">Ê†ºÂºèÂåñ</span>
                </button>
                <button class="toolbar-btn" id="btn-minify" title="Â£ìÁ∏Æ JSON">
                    <span class="icon">üì¶</span>
                    <span class="label">Â£ìÁ∏Æ</span>
                </button>
                <button class="toolbar-btn" id="btn-repair" title="‰øÆÂæ© JSON">
                    <span class="icon">üîß</span>
                    <span class="label">‰øÆÂæ©</span>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-group">
                <button class="toolbar-btn" id="btn-validate" title="È©óË≠â JSON">
                    <span class="icon">‚úì</span>
                    <span class="label">È©óË≠â</span>
                </button>
                <button class="toolbar-btn" id="btn-validate-serialized" title="È©óË≠âÂ∫èÂàóÂåñ JSON">
                    <span class="icon">üîó</span>
                    <span class="label">Â∫èÂàóÂåñÈ©óË≠â</span>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-group">
                <button class="toolbar-btn" id="btn-compare" title="ÊØîËºÉ JSON">
                    <span class="icon">‚öñÔ∏è</span>
                    <span class="label">ÊØîËºÉ</span>
                </button>
                <button class="toolbar-btn" id="btn-query" title="Êü•Ë©¢ JSON">
                    <span class="icon">üîç</span>
                    <span class="label">Êü•Ë©¢</span>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-group">
                <button class="toolbar-btn" id="btn-to-csv" title="JSON ËΩâ CSV">
                    <span class="icon">üìä</span>
                    <span class="label">‚Üí CSV</span>
                </button>
                <button class="toolbar-btn" id="btn-from-csv" title="CSV ËΩâ JSON">
                    <span class="icon">üìã</span>
                    <span class="label">CSV ‚Üí</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel -->
            <div class="panel left-panel" id="left-panel">
                <div class="panel-header">
                    <div class="panel-title">Á∑®ËºØÂçÄ</div>
                    <div class="mode-switcher">
                        <button class="mode-btn active" data-mode="text" data-panel="left">Text</button>
                        <button class="mode-btn" data-mode="tree" data-panel="left">Tree</button>
                        <button class="mode-btn" data-mode="table" data-panel="left">Table</button>
                    </div>
                    <div class="panel-actions">
                        <button class="icon-btn" id="btn-copy-left" title="Ë§áË£Ω">üìã</button>
                        <button class="icon-btn" id="btn-clear-left" title="Ê∏ÖÈô§">üóëÔ∏è</button>
                        <button class="icon-btn" id="btn-expand-all-left" title="Â±ïÈñãÂÖ®ÈÉ®">‚ûï</button>
                        <button class="icon-btn" id="btn-collapse-all-left" title="Êî∂ÂêàÂÖ®ÈÉ®">‚ûñ</button>
                    </div>
                </div>
                <div class="panel-content">
                    <!-- Text Mode -->
                    <div class="editor-view text-view active" data-mode="text">
                        <div class="editor-wrapper">
                            <div class="line-numbers" id="line-numbers-left">1</div>
                            <textarea id="json-input-left" class="json-input" placeholder='Âú®Ê≠§Ë≤º‰∏äÊàñÊãñÊîæ JSON Ê™îÊ°à...'
                                spellcheck="false"></textarea>
                        </div>
                    </div>
                    <!-- Tree Mode -->
                    <div class="editor-view tree-view" data-mode="tree">
                        <div class="tree-container" id="tree-container-left"></div>
                    </div>
                    <!-- Table Mode -->
                    <div class="editor-view table-view" data-mode="table">
                        <div class="table-container" id="table-container-left">
                            <div class="table-placeholder">Ë°®Ê†ºÊ®°ÂºèÈÅ©Áî®Êñº JSON Èô£ÂàóË≥áÊñô</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Center Controls -->
            <div class="center-controls">
                <button class="center-btn" id="btn-copy-to-right" title="Ë§áË£ΩÂà∞Âè≥ÈÇä">‚Üí</button>
                <button class="center-btn" id="btn-copy-to-left" title="Ë§áË£ΩÂà∞Â∑¶ÈÇä">‚Üê</button>
                <button class="center-btn compare-btn" id="btn-show-diff" title="È°ØÁ§∫Â∑ÆÁï∞">‚öñÔ∏è</button>
                <button class="center-btn" id="btn-swap" title="‰∫§Êèõ">‚áÑ</button>
            </div>

            <!-- Right Panel -->
            <div class="panel right-panel" id="right-panel">
                <div class="panel-header">
                    <div class="panel-title">ÊØîËºÉÂçÄ / ÁµêÊûú</div>
                    <div class="mode-switcher">
                        <button class="mode-btn active" data-mode="text" data-panel="right">Text</button>
                        <button class="mode-btn" data-mode="tree" data-panel="right">Tree</button>
                        <button class="mode-btn" data-mode="table" data-panel="right">Table</button>
                    </div>
                    <div class="panel-actions">
                        <button class="icon-btn" id="btn-copy-right" title="Ë§áË£Ω">üìã</button>
                        <button class="icon-btn" id="btn-clear-right" title="Ê∏ÖÈô§">üóëÔ∏è</button>
                        <button class="icon-btn" id="btn-expand-all-right" title="Â±ïÈñãÂÖ®ÈÉ®">‚ûï</button>
                        <button class="icon-btn" id="btn-collapse-all-right" title="Êî∂ÂêàÂÖ®ÈÉ®">‚ûñ</button>
                    </div>
                </div>
                <div class="panel-content">
                    <!-- Text Mode -->
                    <div class="editor-view text-view active" data-mode="text">
                        <div class="editor-wrapper">
                            <div class="line-numbers" id="line-numbers-right">1</div>
                            <textarea id="json-input-right" class="json-input" placeholder='Á¨¨‰∫åÂÄã JSONÔºàÁî®ÊñºÊØîËºÉÔºâÊàñÊü•ÁúãÁµêÊûú...'
                                spellcheck="false"></textarea>
                        </div>
                    </div>
                    <!-- Tree Mode -->
                    <div class="editor-view tree-view" data-mode="tree">
                        <div class="tree-container" id="tree-container-right"></div>
                    </div>
                    <!-- Table Mode -->
                    <div class="editor-view table-view" data-mode="table">
                        <div class="table-container" id="table-container-right">
                            <div class="table-placeholder">Ë°®Ê†ºÊ®°ÂºèÈÅ©Áî®Êñº JSON Èô£ÂàóË≥áÊñô</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <span class="status-item" id="status-validity">
                    <span class="status-icon">‚è≥</span>
                    <span class="status-text">Á≠âÂæÖËº∏ÂÖ•</span>
                </span>
            </div>
            <div class="status-center">
                <span class="status-item" id="status-info"></span>
            </div>
            <div class="status-right">
                <span class="status-item" id="status-size">0 Â≠óÂÖÉ</span>
            </div>
        </div>

        <!-- Query Modal -->
        <div class="modal" id="query-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üîç Êü•Ë©¢ JSON</h2>
                    <button class="modal-close" id="close-query-modal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="query-input-group">
                        <label>Ëº∏ÂÖ• JSONPath Êü•Ë©¢Ôºö</label>
                        <input type="text" id="query-input" class="query-input"
                            placeholder="‰æãÂ¶Ç: $.store.book[0].title Êàñ $..author">
                        <div class="query-help">
                            Â∏∏Áî®Ë™ûÊ≥ïÔºö<code>$</code> Ê†πÁØÄÈªû, <code>.key</code> Â±¨ÊÄß, <code>[0]</code> Èô£ÂàóÁ¥¢Âºï, <code>..</code> ÈÅûËø¥ÊêúÂ∞ã,
                            <code>[*]</code> ÊâÄÊúâÂÖÉÁ¥†
                        </div>
                    </div>
                    <button class="btn btn-primary" id="btn-execute-query">Âü∑Ë°åÊü•Ë©¢</button>
                    <div class="query-result" id="query-result"></div>
                </div>
            </div>
        </div>

        <!-- Validation Result Modal -->
        <div class="modal" id="validation-modal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2 id="validation-modal-title">È©óË≠âÁµêÊûú</h2>
                    <button class="modal-close" id="close-validation-modal">√ó</button>
                </div>
                <div class="modal-body" id="validation-modal-body">
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>